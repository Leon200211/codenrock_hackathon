# Разработка сервиса для голосовой инвентаризации складов ПГК

*Хакатон HackWagon22*
<p align="center">
<img width="800" height="400" alt="image" src="https://user-images.githubusercontent.com/90902903/208522042-24eebc52-4c8d-4eff-b7aa-92f9595c6c22.png">
</p>

*Команда "Ёлки палки, дед мороз!"*   
*Чиженко Леон (https://github.com/Leon200211) - Frontend-разработчик*    
*Сергей Куликов (https://github.com/MrMarvel) - Backend-разработчик*  
*Хан Анастасия (https://github.com/Nanochka1) - Дизайнер*  
*Валуева Анастасия (https://github.com/VoLuIcHiK) - Data Scientist*   
*Бачаева Анна (https://github.com/annabachaeva) - Data Scientist*  

## Краткое описание сервиса

Сейчас в управлении ПГК свыше 90 тысяч вагонов, детали для которых хранятся на складах в разных уголках страны, чтобы своевременно обслуживать парк. 

Для точного понимания, что, сколько и где у нас есть, мы регулярно проводим инвентаризацию. Итак, что такое инвентаризация в цифрах? Это почти 500 складов с более, чем 400 тыс деталей (четверть из них пронумерована, остальные - без номера). Общая стоимость этих деталей - порядка 6,5 млрд руб.

Каждый склад представляет собой открытое пространство, где хранятся детали не только ПГК, но и других собственников. Ежегодно осенью в течение нескольких месяцев проводится опись этих деталей. На каждом складе несколько сотрудников осматривают детали, определяют технические характеристики, ведут запись результатов осмотра. Далее результаты сверяются с учетными данными и здесь важно, чтобы все сошлось. Инвентаризация позволяет выявить утрату, и на основании этого вести работы по урегулированию , планировать ремонты вагонов и закупку запасных частей.

Задача усложняется тем, что описывать детали, записывая информацию в виде текста, может быть проблематично – детали могут быть неудобно расположены, может быть холодно/дождливо, и т.д. Поэтому была предложена идея записывать голос человека, который проводит инвентаризацию – он озвучивает наименование предмета, номер, год и завод выпуска, комментарий (например, что деталь бракованная). 

Вам предлагается создать сервис, который расшифровывает аудиозапись пользователя и выдает отчет в виде таблицы с описанием каждого предмета с возможностью дальнейшей выгрузки этой таблицы.

## Реализация


#### Стек технологий
* Модель
  * Python
  * Библиотека vosk
* Веб-сервис 
  * PHP
  * JS
* Api
  * django
* Телеграм бот
  * Python

#### Финальное решение

*Описание модели:*  

1. На вход модель получает аудиофайл, который с помощью готовой предобученной модели vosk преобразовывает речь в текст; 
2. С помощью слов-индикаторов программа разделяет текст на строки, каждая из которых является строкой в будущей таблице;
3. С помощью регулярных выражений, алгоритма преобразования словесной записи чисел в цифры и библиотеки jellyfish данные приводятся к оптимальному виду;
4. Выделяются ключевые слова и соответсвующие им значения, составляются словари для каждой строки, где key - название столбца, а value - значение ячейки в данном столбце;
5. Создается датафрейм, который на выходе из программы преобразуется в файл с разрешением .csv.



![image](https://user-images.githubusercontent.com/91278041/208307743-634a7be0-32ec-4e4e-aff4-9364a79efd35.png)

#### Интерфейс

![photo_5258449007796142390_w](https://user-images.githubusercontent.com/91278041/208307807-a634b24b-c88c-4606-8a0e-ee6d5a6018f5.jpg)
![photo_5258449007796142393_w](https://user-images.githubusercontent.com/91278041/208307810-e710ba96-e41e-4189-91e0-7c305d2e4c51.jpg)
![photo_5258449007796142397_w](https://user-images.githubusercontent.com/91278041/208307811-78736d65-603b-4a92-a849-ae7690a4cc6c.jpg)
![photo_5258263619827779921_w](https://user-images.githubusercontent.com/91278041/208307813-1e09cce7-1b23-4e9e-aa09-329978124cde.jpg)
